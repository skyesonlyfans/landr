<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Landr</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    :root {
        --bg-gradient-1: #667eea;
        --bg-gradient-2: #764ba2;
        --bg-gradient-3: #f093fb;
        --bg-gradient-4: #4facfe;
        --card-bg: rgba(255, 255, 255, 0.1);
        --text-color: #ffffff;
        --text-shadow: rgba(0, 0, 0, 0.3);
        --accent-color: #f093fb;
        --hover-color: #764ba2;
    }

    body.dark-mode {
        --bg-gradient-1: #0f0c29;
        --bg-gradient-2: #302b63;
        --bg-gradient-3: #24243e;
        --bg-gradient-4: #0f0c29;
        --card-bg: rgba(255, 255, 255, 0.05);
        --accent-color: #667eea;
        --hover-color: #764ba2;
    }

    body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        background: linear-gradient(-45deg, var(--bg-gradient-1), var(--bg-gradient-2), var(--bg-gradient-3), var(--bg-gradient-4));
        background-size: 400% 400%;
        background-attachment: fixed;
        animation: gradientShift 15s ease infinite;
        color: var(--text-color);
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 20px;
        position: relative;
        overflow-x: hidden;
        will-change: background-position;
    }

    @keyframes gradientShift {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }

    .particles {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1;
        will-change: transform;
    }

    .particle {
        position: absolute;
        width: 3px;
        height: 3px;
        background: rgba(255, 255, 255, 0.5);
        border-radius: 50%;
        animation: float 15s infinite;
        will-change: transform, opacity;
    }

    @keyframes float {
        0%, 100% { transform: translateY(0) translateX(0); opacity: 0; }
        10% { opacity: 1; }
        90% { opacity: 1; }
        100% { transform: translateY(-100vh) translateX(50px); opacity: 0; }
    }

    .container {
        position: relative;
        z-index: 2;
        max-width: 1200px;
        width: 100%;
    }

    h1 {
        font-family: 'Poppins', sans-serif;
        font-size: 5rem;
        font-weight: 800;
        text-align: center;
        margin-bottom: 10px;
        background: linear-gradient(135deg, #fff, var(--accent-color));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-shadow: 0 4px 20px var(--text-shadow);
        letter-spacing: -2px;
        animation: fadeInDown 0.8s ease;
    }

    h2 {
        font-family: 'Poppins', sans-serif;
    }

    @keyframes fadeInDown {
        from {
            opacity: 0;
            transform: translateY(-30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .clock {
        text-align: center;
        font-size: 1.5rem;
        margin-bottom: 40px;
        font-weight: 300;
        opacity: 0.9;
        animation: fadeIn 1s ease 0.3s backwards;
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    .search-container {
        display: flex;
        justify-content: center;
        margin-bottom: 40px;
        animation: fadeIn 1s ease 0.5s backwards;
    }

    .search-bar {
        position: relative;
        width: 100%;
        max-width: 600px;
    }

    input[type="text"] {
        width: 100%;
        padding: 18px 50px 18px 25px;
        font-size: 1.1rem;
        border: none;
        border-radius: 50px;
        background: var(--card-bg);
        backdrop-filter: blur(10px);
        color: var(--text-color);
        outline: none;
        transition: all 0.3s ease;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        font-family: 'Inter', sans-serif;
        -webkit-backdrop-filter: blur(10px);
    }

    input[type="text"]::placeholder {
        color: rgba(255, 255, 255, 0.6);
    }

    input[type="text"]:focus {
        background: rgba(255, 255, 255, 0.15);
        box-shadow: 0 8px 40px rgba(0, 0, 0, 0.2);
        transform: translateY(-2px);
    }

    .search-icon {
        position: absolute;
        right: 20px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 1.2rem;
        opacity: 0.6;
    }

    .quick-links {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 20px;
        margin-bottom: 40px;
        animation: fadeIn 1s ease 0.7s backwards;
    }

    .link-card {
        padding: 20px;
        text-decoration: none;
        color: var(--text-color);
        background: var(--card-bg);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-radius: 20px;
        text-align: center;
        transition: all 0.3s ease;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.1);
        font-weight: 500;
        position: relative;
    }

    .link-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.2);
        background: rgba(255, 255, 255, 0.15);
    }

    .remove-link {
        position: absolute;
        top: 5px;
        right: 5px;
        background: rgba(255, 59, 48, 0.8);
        color: white;
        border: none;
        border-radius: 50%;
        width: 22px;
        height: 22px;
        cursor: pointer;
        display: none;
        align-items: center;
        justify-content: center;
        font-size: 0.8rem;
        transition: all 0.2s ease;
    }

    .link-card:hover .remove-link {
        display: flex;
    }

    .remove-link:hover {
        background: rgba(255, 59, 48, 1);
        transform: scale(1.1);
    }

    .add-link-card {
        padding: 20px;
        background: var(--card-bg);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-radius: 20px;
        text-align: center;
        border: 2px dashed rgba(255, 255, 255, 0.3);
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2rem;
        color: rgba(255, 255, 255, 0.6);
    }

    .add-link-card:hover {
        border-color: rgba(255, 255, 255, 0.6);
        background: rgba(255, 255, 255, 0.15);
    }

    .content-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 30px;
        margin-bottom: 40px;
        animation: fadeIn 1s ease 0.9s backwards;
    }

    .widget {
        background: var(--card-bg);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-radius: 25px;
        padding: 30px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.1);
        transition: all 0.3s ease;
    }

    .widget:hover {
        transform: translateY(-3px);
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
    }

    .widget h2 {
        font-size: 1.8rem;
        margin-bottom: 20px;
        font-weight: 600;
    }

    .todo-input-container {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
    }

    .todo-input {
        flex: 1;
        padding: 12px 18px;
        border: none;
        border-radius: 15px;
        background: rgba(255, 255, 255, 0.1);
        color: var(--text-color);
        outline: none;
        font-size: 1rem;
        font-family: 'Inter', sans-serif;
    }

    .todo-input::placeholder {
        color: rgba(255, 255, 255, 0.5);
    }

    .add-btn {
        padding: 12px 25px;
        border: none;
        border-radius: 15px;
        background: var(--accent-color);
        color: white;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.3s ease;
        font-family: 'Poppins', sans-serif;
    }

    .add-btn:hover {
        background: var(--hover-color);
        transform: scale(1.05);
    }

    .todo-list {
        list-style: none;
        max-height: 300px;
        overflow-y: auto;
    }

    .todo-list::-webkit-scrollbar {
        width: 6px;
    }

    .todo-list::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 10px;
    }

    .todo-list::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.2);
        border-radius: 10px;
    }

    .todo-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 15px;
        background: rgba(255, 255, 255, 0.08);
        border-radius: 12px;
        margin-bottom: 10px;
        transition: all 0.3s ease;
        animation: slideIn 0.3s ease;
    }

    @keyframes slideIn {
        from {
            opacity: 0;
            transform: translateX(-20px);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }

    .todo-item:hover {
        background: rgba(255, 255, 255, 0.12);
    }

    .todo-text {
        flex: 1;
        font-size: 1rem;
    }

    .todo-item.completed .todo-text {
        text-decoration: line-through;
        opacity: 0.5;
    }

    .todo-btn {
        padding: 6px 12px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.2s ease;
        font-size: 0.9rem;
    }

    .complete-btn {
        background: #4ade80;
        color: white;
    }

    .delete-btn {
        background: #f87171;
        color: white;
    }

    .todo-btn:hover {
        transform: scale(1.1);
    }

    .visualizer-widget {
        position: relative;
    }

    .visualizer-controls {
        display: flex;
        gap: 15px;
        margin-bottom: 15px;
        flex-wrap: wrap;
    }

    .visualizer-toggle {
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .toggle-switch {
        position: relative;
        width: 50px;
        height: 26px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 13px;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .toggle-switch.active {
        background: var(--accent-color);
    }

    .toggle-slider {
        position: absolute;
        top: 3px;
        left: 3px;
        width: 20px;
        height: 20px;
        background: white;
        border-radius: 50%;
        transition: all 0.3s ease;
    }

    .toggle-switch.active .toggle-slider {
        transform: translateX(24px);
    }

    #visualizerCanvas {
        width: 100%;
        height: 200px;
        border-radius: 15px;
        background: rgba(0, 0, 0, 0.2);
    }

    .upload-section {
        margin-top: 15px;
        display: flex;
        gap: 10px;
        align-items: center;
        flex-wrap: wrap;
    }

    .file-label {
        padding: 10px 20px;
        background: var(--accent-color);
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 0.9rem;
        font-family: 'Poppins', sans-serif;
    }

    .file-label:hover {
        background: var(--hover-color);
        transform: scale(1.05);
    }

    #audioFile {
        display: none;
    }

    .mic-btn {
        padding: 10px 20px;
        background: #10b981;
        border: none;
        border-radius: 12px;
        color: white;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 0.9rem;
        font-family: 'Poppins', sans-serif;
    }

    .mic-btn:hover {
        background: #059669;
        transform: scale(1.05);
    }

    .mic-btn.active {
        background: #ef4444;
        animation: pulse 1.5s ease infinite;
    }

    @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.7; }
    }

    .controls {
        position: fixed;
        top: 30px;
        right: 30px;
        display: flex;
        gap: 15px;
        z-index: 100;
    }

    .control-btn {
        width: 50px;
        height: 50px;
        border: none;
        border-radius: 50%;
        background: var(--card-bg);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        color: var(--text-color);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.3rem;
        transition: all 0.3s ease;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .control-btn:hover {
        transform: scale(1.1);
        background: rgba(255, 255, 255, 0.2);
    }

    .settings-panel {
        position: fixed;
        top: 0;
        right: -400px;
        width: 400px;
        height: 100vh;
        background: var(--card-bg);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        padding: 30px;
        box-shadow: -5px 0 30px rgba(0, 0, 0, 0.2);
        transition: right 0.4s ease;
        z-index: 1000;
        overflow-y: auto;
        border-left: 1px solid rgba(255, 255, 255, 0.1);
    }

    .settings-panel.active {
        right: 0;
    }

    .settings-panel::-webkit-scrollbar {
        width: 6px;
    }

    .settings-panel::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.05);
    }

    .settings-panel::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.2);
        border-radius: 10px;
    }

    .settings-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
    }

    .settings-header h2 {
        font-size: 2rem;
    }

    .close-settings {
        background: none;
        border: none;
        color: var(--text-color);
        font-size: 1.5rem;
        cursor: pointer;
        padding: 5px;
        transition: transform 0.2s ease;
    }

    .close-settings:hover {
        transform: rotate(90deg);
    }

    .setting-item {
        margin-bottom: 25px;
    }

    .setting-label {
        display: block;
        margin-bottom: 8px;
        font-weight: 500;
        opacity: 0.9;
        font-size: 0.95rem;
    }

    .setting-input {
        width: 100%;
        padding: 12px 16px;
        border: none;
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.1);
        color: var(--text-color);
        outline: none;
        font-size: 1rem;
        font-family: 'Inter', sans-serif;
    }

    .ios-select {
        width: 100%;
        padding: 12px 16px;
        border: none;
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.1);
        color: var(--text-color);
        outline: none;
        font-size: 1rem;
        font-family: 'Inter', sans-serif;
        cursor: pointer;
        appearance: none;
        background-image: url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1.5L6 6.5L11 1.5' stroke='white' stroke-opacity='0.6' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 16px center;
        padding-right: 40px;
        transition: all 0.2s ease;
    }

    .ios-select:hover {
        background-color: rgba(255, 255, 255, 0.15);
    }

    .ios-select:focus {
        background-color: rgba(255, 255, 255, 0.15);
    }

    .ios-select option {
        background: #2a2a2a;
        color: white;
        padding: 12px;
    }

    .setting-toggle {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 0;
    }

    .collapsible-section {
        margin-bottom: 20px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        padding-top: 20px;
    }

    .collapsible-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
        padding: 12px 0;
        user-select: none;
    }

    .collapsible-header h3 {
        font-family: 'Poppins', sans-serif;
        font-size: 1.2rem;
        font-weight: 600;
    }

    .collapsible-icon {
        font-size: 1.2rem;
        transition: transform 0.3s ease;
    }

    .collapsible-section.expanded .collapsible-icon {
        transform: rotate(180deg);
    }

    .collapsible-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease;
    }

    .collapsible-section.expanded .collapsible-content {
        max-height: 2000px;
    }

    .script-upload {
        margin-top: 15px;
    }

    .script-list {
        list-style: none;
        margin-top: 15px;
    }

    .script-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 8px;
        margin-bottom: 8px;
        font-size: 0.9rem;
    }

    .script-item-name {
        flex: 1;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    .script-actions {
        display: flex;
        gap: 8px;
    }

    .script-btn {
        padding: 4px 8px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 0.8rem;
        transition: all 0.2s ease;
    }

    .script-btn.enable {
        background: #10b981;
        color: white;
    }

    .script-btn.disable {
        background: #6b7280;
        color: white;
    }

    .script-btn.remove {
        background: #ef4444;
        color: white;
    }

    .script-btn:hover {
        transform: scale(1.05);
    }

    .code-example {
        margin-top: 15px;
        background: rgba(0, 0, 0, 0.3);
        border-radius: 8px;
        padding: 15px;
        font-family: 'Courier New', monospace;
        font-size: 0.85rem;
        overflow-x: auto;
        white-space: pre;
        color: #a8dadc;
    }

    .copy-code-btn {
        display: block;
        margin-top: 10px;
        padding: 8px 16px;
        background: var(--accent-color);
        border: none;
        border-radius: 8px;
        color: white;
        cursor: pointer;
        font-family: 'Poppins', sans-serif;
        font-size: 0.85rem;
        transition: all 0.2s ease;
    }

    .copy-code-btn:hover {
        background: var(--hover-color);
        transform: scale(1.02);
    }

    .warning-text {
        color: #fbbf24;
        font-size: 0.85rem;
        margin-top: 10px;
        padding: 10px;
        background: rgba(251, 191, 36, 0.1);
        border-radius: 8px;
        border-left: 3px solid #fbbf24;
    }

    .credits {
        margin-top: 30px;
        padding-top: 30px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        text-align: center;
        opacity: 0.6;
        font-size: 0.9rem;
    }

    .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        backdrop-filter: blur(5px);
        -webkit-backdrop-filter: blur(5px);
        z-index: 2000;
        align-items: center;
        justify-content: center;
    }

    .modal.active {
        display: flex;
    }

    .modal-content {
        background: var(--card-bg);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border-radius: 25px;
        padding: 40px;
        max-width: 500px;
        width: 90%;
        border: 1px solid rgba(255, 255, 255, 0.1);
        animation: modalSlideIn 0.3s ease;
    }

    @keyframes modalSlideIn {
        from {
            opacity: 0;
            transform: translateY(-30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .modal-content h3 {
        font-family: 'Poppins', sans-serif;
        font-size: 1.8rem;
        margin-bottom: 25px;
    }

    .modal-input {
        width: 100%;
        padding: 12px 18px;
        border: none;
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.1);
        color: var(--text-color);
        outline: none;
        font-size: 1rem;
        margin-bottom: 15px;
        font-family: 'Inter', sans-serif;
    }

    .modal-input::placeholder {
        color: rgba(255, 255, 255, 0.5);
    }

    .modal-buttons {
        display: flex;
        gap: 10px;
        margin-top: 25px;
    }

    .modal-btn {
        flex: 1;
        padding: 12px 25px;
        border: none;
        border-radius: 12px;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.3s ease;
        font-family: 'Poppins', sans-serif;
    }

    .modal-btn.primary {
        background: var(--accent-color);
        color: white;
    }

    .modal-btn.primary:hover {
        background: var(--hover-color);
    }

    .modal-btn.secondary {
        background: rgba(255, 255, 255, 0.1);
        color: var(--text-color);
    }

    .modal-btn.secondary:hover {
        background: rgba(255, 255, 255, 0.15);
    }

    @media (max-width: 768px) {
        h1 {
            font-size: 2.5rem;
            letter-spacing: -1px;
        }

        .clock {
            font-size: 1.1rem;
            margin-bottom: 30px;
        }

        .search-bar {
            max-width: 100%;
        }

        input[type="text"] {
            font-size: 1rem;
            padding: 15px 45px 15px 20px;
        }

        .quick-links {
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 12px;
        }

        .link-card {
            padding: 15px 10px;
            font-size: 0.9rem;
        }

        .content-grid {
            grid-template-columns: 1fr;
            gap: 20px;
        }

        .widget {
            padding: 20px;
        }

        .widget h2 {
            font-size: 1.5rem;
        }

        .settings-panel {
            width: 100%;
            right: -100%;
            padding: 20px;
        }

        .settings-header h2 {
            font-size: 1.5rem;
        }

        .controls {
            top: 15px;
            right: 15px;
            gap: 10px;
        }

        .control-btn {
            width: 45px;
            height: 45px;
            font-size: 1.1rem;
        }

        .modal-content {
            padding: 25px;
            width: 95%;
        }

        .modal-content h3 {
            font-size: 1.5rem;
        }

        .todo-input-container {
            flex-direction: column;
        }

        .todo-input, .add-btn {
            width: 100%;
        }

        #visualizerCanvas {
            height: 180px;
        }

        .upload-section {
            flex-direction: column;
            align-items: stretch;
        }

        .file-label, .mic-btn, #playPauseBtn {
            width: 100%;
            text-align: center;
        }

        #addonStoreWidget {
            grid-column: span 1 !important;
        }

        #addonsList {
            grid-template-columns: 1fr;
            max-height: 400px;
        }

        #emulatorWidget, #marioKartWidget, #flappyBirdWidget {
            grid-column: span 1 !important;
            min-height: 400px;
        }

        #emulatorWidget > div:nth-child(2),
        #marioKartWidget > div:nth-child(2),
        #flappyBirdWidget canvas {
            height: 350px !important;
        }

        .container {
            padding: 0 10px;
        }

        .collapsible-content {
            font-size: 0.9rem;
        }

        .code-example {
            font-size: 0.75rem;
            padding: 10px;
        }
    }

    @media (max-width: 480px) {
        h1 {
            font-size: 2rem;
        }

        .clock {
            font-size: 1rem;
        }

        .quick-links {
            grid-template-columns: repeat(2, 1fr);
        }

        .widget h2 {
            font-size: 1.3rem;
        }

        .control-btn {
            width: 40px;
            height: 40px;
            font-size: 1rem;
        }

        .addon-card {
            padding: 15px;
        }

        .addon-card h3 {
            font-size: 1rem;
        }

        .addon-card p {
            font-size: 0.85rem;
        }
    }
</style>
```

</head>
<body>
    <div class="particles" id="particles"></div>

```
<div class="controls">
    <button class="control-btn" onclick="toggleTheme()" title="Toggle Theme">üåô</button>
    <button class="control-btn" onclick="toggleSettings()" title="Settings">‚öôÔ∏è</button>
</div>

<div class="settings-panel" id="settingsPanel">
    <div class="settings-header">
        <h2>Settings</h2>
        <button class="close-settings" onclick="toggleSettings()">‚úï</button>
    </div>
    
    <div class="setting-item">
        <label class="setting-label">Homepage Title</label>
        <input type="text" class="setting-input" id="titleInput" value="Landr" onchange="updateTitle()">
    </div>

    <div class="setting-item">
        <label class="setting-label">Search Engine</label>
        <select class="ios-select" id="searchEngine" onchange="saveSettings()">
            <option value="google">Google</option>
            <option value="bing">Bing</option>
            <option value="duckduckgo">DuckDuckGo</option>
        </select>
    </div>

    <div class="setting-item">
        <label class="setting-label">Music Visualizer</label>
        <div class="setting-toggle">
            <span>Enable Visualizer Widget</span>
            <div class="toggle-switch active" id="visualizerWidgetToggle" onclick="toggleVisualizerWidget()">
                <div class="toggle-slider"></div>
            </div>
        </div>
    </div>

    <div class="collapsible-section" id="devSection">
        <div class="collapsible-header" onclick="toggleDevSection()">
            <h3>For Developers</h3>
            <span class="collapsible-icon">‚ñº</span>
        </div>
        <div class="collapsible-content">
            <p style="opacity: 0.8; font-size: 0.9rem; margin-bottom: 15px;">Upload custom JavaScript files to extend Landr's functionality.</p>
            
            <div class="script-upload">
                <label for="scriptFile" class="file-label">Upload Script</label>
                <input type="file" id="scriptFile" accept=".js" onchange="uploadScript(this.files[0])" style="display: none;">
            </div>

            <div class="warning-text">
                ‚ö†Ô∏è Only upload scripts you trust. Custom scripts have full access to the page.
            </div>

            <ul class="script-list" id="scriptList"></ul>

            <div class="collapsible-section" id="exampleSection" style="margin-top: 20px; padding-top: 15px;">
                <div class="collapsible-header" onclick="toggleExampleSection()">
                    <span style="font-size: 0.95rem; font-weight: 500;">View Example Script</span>
                    <span class="collapsible-icon" style="font-size: 1rem;">‚ñº</span>
                </div>
                <div class="collapsible-content">
                    <div class="code-example" id="exampleCode">// Landr Custom Script Example
```

// This script adds a greeting notification when the page loads

(function() {
// Access Landr API functions
// Available: LandrAPI.showNotification(message, type)
// Types: ‚Äòinfo‚Äô, ‚Äòsuccess‚Äô, ‚Äòwarning‚Äô, ‚Äòerror‚Äô

// Get the current time
const hour = new Date().getHours();
let greeting = ‚ÄòHello!‚Äô;

if (hour < 12) {
greeting = ‚ÄòGood morning!‚Äô;
} else if (hour < 18) {
greeting = ‚ÄòGood afternoon!‚Äô;
} else {
greeting = ‚ÄòGood evening!‚Äô;
}

// Show a notification
LandrAPI.showNotification(greeting + ‚Äô Welcome to Landr!‚Äô, ‚Äòinfo‚Äô);

// You can also access page elements
// Example: Change clock color on click
const clock = document.getElementById(‚Äòclock‚Äô);
if (clock) {
clock.addEventListener(‚Äòclick‚Äô, function() {
this.style.color = ‚Äò#‚Äô + Math.floor(Math.random()*16777215).toString(16);
});
}

// Access todo functions
// LandrAPI.addTodo(‚ÄòMy custom task‚Äô);

// Access quick links
// LandrAPI.addQuickLink(‚ÄòMy Site‚Äô, ‚Äòhttps://example.com‚Äô);

console.log(‚ÄòCustom script loaded successfully!‚Äô);
})();</div>
<button class="copy-code-btn" onclick="copyExampleCode()">Copy Example</button>
</div>
</div>
</div>
</div>

```
    <div class="credits">
        <p>Made with ‚ô• by</p>
        <p><strong>Skye &lt;3</strong></p>
    </div>
</div>

<div class="modal" id="linkModal">
    <div class="modal-content">
        <h3>Add Quick Link</h3>
        <input type="text" class="modal-input" id="linkName" placeholder="Link Name (e.g., YouTube)">
        <input type="text" class="modal-input" id="linkUrl" placeholder="URL (e.g., https://youtube.com)">
        <div class="modal-buttons">
            <button class="modal-btn secondary" onclick="closeLinkModal()">Cancel</button>
            <button class="modal-btn primary" onclick="saveCustomLink()">Add Link</button>
        </div>
    </div>
</div>

<div class="container">
    <h1 id="mainTitle">Landr</h1>
    <div class="clock" id="clock"></div>

    <div class="search-container">
        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="Search the web..." onkeydown="if(event.key === 'Enter'){ search() }">
            <span class="search-icon">üîç</span>
        </div>
    </div>

    <div class="quick-links" id="quickLinks">
        <a href="https://www.google.com" target="_blank" class="link-card" data-default="true">
            Google
        </a>
        <a href="https://www.github.com" target="_blank" class="link-card" data-default="true">
            GitHub
        </a>
        <a href="https://www.youtube.com" target="_blank" class="link-card" data-default="true">
            YouTube
        </a>
        <div class="add-link-card" onclick="openLinkModal()">+</div>
    </div>

    <div class="content-grid">
        <div class="widget">
            <h2>Tasks</h2>
            <div class="todo-input-container">
                <input type="text" class="todo-input" id="todoInput" placeholder="Add a new task..." onkeydown="if(event.key === 'Enter'){ addTodo() }">
                <button class="add-btn" onclick="addTodo()">Add</button>
            </div>
            <ul class="todo-list" id="todoList"></ul>
        </div>

        <div class="widget visualizer-widget" id="visualizerWidget">
            <h2>Music Visualizer</h2>
            <div class="visualizer-controls">
                <div class="visualizer-toggle">
                    <div class="toggle-switch" id="visualizerToggle" onclick="toggleVisualizer()">
                        <div class="toggle-slider"></div>
                    </div>
                    <span>Enable</span>
                </div>
            </div>
            <canvas id="visualizerCanvas"></canvas>
            <div class="upload-section">
                <label for="audioFile" class="file-label">Choose Audio</label>
                <input type="file" id="audioFile" accept="audio/*" onchange="loadAudio(this.files[0])">
                <button class="mic-btn" id="micBtn" onclick="toggleMicrophone()">üé§ Microphone</button>
                <button class="add-btn" id="playPauseBtn" onclick="togglePlayPause()" style="display:none;">Play</button>
            </div>
        </div>
    </div>
</div>

<div id="notificationContainer" style="position: fixed; top: 100px; right: 30px; z-index: 9999; display: flex; flex-direction: column; gap: 10px;"></div>

<script>
    let audioContext, analyser, dataArray, bufferLength, animationId;
    let audioElement = new Audio();
    let visualizerActive = false;
    let isPlaying = false;
    let micStream = null;
    let micActive = false;
    let customScripts = [];
    let activeScripts = new Set();

    function saveSettings() {
        const settings = {
            title: document.getElementById('titleInput').value,
            searchEngine: document.getElementById('searchEngine').value,
            darkMode: document.body.classList.contains('dark-mode'),
            visualizerEnabled: document.getElementById('visualizerWidgetToggle').classList.contains('active'),
            customScripts: customScripts,
            activeScripts: Array.from(activeScripts)
        };
        localStorage.setItem('landrSettings', JSON.stringify(settings));
    }

    function loadSettings() {
        const saved = localStorage.getItem('landrSettings');
        if (saved) {
            try {
                const settings = JSON.parse(saved);
                
                if (settings.title) {
                    document.getElementById('titleInput').value = settings.title;
                    document.getElementById('mainTitle').textContent = settings.title;
                    document.title = settings.title;
                }
                
                if (settings.searchEngine) {
                    document.getElementById('searchEngine').value = settings.searchEngine;
                }
                
                if (settings.darkMode) {
                    document.body.classList.add('dark-mode');
                }
                
                if (settings.visualizerEnabled !== undefined) {
                    const toggle = document.getElementById('visualizerWidgetToggle');
                    const widget = document.getElementById('visualizerWidget');
                    if (settings.visualizerEnabled) {
                        toggle.classList.add('active');
                        widget.style.display = 'block';
                    } else {
                        toggle.classList.remove('active');
                        widget.style.display = 'none';
                    }
                }
                
                if (settings.customScripts) {
                    customScripts = settings.customScripts;
                    updateScriptList();
                }
                
                if (settings.activeScripts) {
                    settings.activeScripts.forEach(id => {
                        const script = customScripts.find(s => s.id === id);
                        if (script) {
                            try {
                                eval(script.content);
                                activeScripts.add(id);
                            } catch (error) {
                                console.error('Error loading script:', error);
                            }
                        }
                    });
                    updateScriptList();
                }
            } catch (error) {
                console.error('Error loading settings:', error);
            }
        }
    }

    const LandrAPI = {
        showNotification: function(message, type = 'info') {
            const container = document.getElementById('notificationContainer');
            const notification = document.createElement('div');
            
            const colors = {
                info: 'rgba(59, 130, 246, 0.9)',
                success: 'rgba(16, 185, 129, 0.9)',
                warning: 'rgba(251, 191, 36, 0.9)',
                error: 'rgba(239, 68, 68, 0.9)'
            };
            
            notification.style.cssText = `
                background: ${colors[type] || colors.info};
                backdrop-filter: blur(10px);
                padding: 15px 20px;
                border-radius: 12px;
                color: white;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
                animation: slideInRight 0.3s ease;
                font-family: 'Inter', sans-serif;
                max-width: 300px;
            `;
            notification.textContent = message;
            
            container.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        },
        
        addTodo: function(text) {
            if (text && text.trim() !== '') {
                const todoList = document.getElementById('todoList');
                const li = document.createElement('li');
                li.className = 'todo-item';
                li.innerHTML = `
                    <span class="todo-text">${text}</span>
                    <button class="todo-btn complete-btn" onclick="toggleComplete(this)">‚úì</button>
                    <button class="todo-btn delete-btn" onclick="deleteTodo(this)">‚úï</button>
                `;
                todoList.appendChild(li);
            }
        },
        
        addQuickLink: function(name, url) {
            if (name && url) {
                if (!url.startsWith('http://') && !url.startsWith('https://')) {
                    url = 'https://' + url;
                }
                const quickLinks = document.getElementById('quickLinks');
                const addButton = quickLinks.querySelector('.add-link-card');
                const newLink = document.createElement('a');
                newLink.href = url;
                newLink.target = '_blank';
                newLink.className = 'link-card';
                newLink.innerHTML = `
                    ${name}
                    <button class="remove-link" onclick="removeLink(event, this)">‚úï</button>
                `;
                quickLinks.insertBefore(newLink, addButton);
            }
        }
    };

    const style = document.createElement('style');
    style.textContent = `
        @keyframes slideInRight {
            from { transform: translateX(400px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes slideOutRight {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(400px); opacity: 0; }
        }
    `;
    document.head.appendChild(style);

    function createParticles() {
        const particlesContainer = document.getElementById('particles');
        for (let i = 0; i < 50; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 15 + 's';
            particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
            particlesContainer.appendChild(particle);
        }
    }

    function updateClock() {
        const now = new Date();
        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
        const date = now.toLocaleDateString('en-US', options);
        const time = now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
        document.getElementById('clock').textContent = `${time} ‚Ä¢ ${date}`;
    }

    function search() {
        const query = document.getElementById('searchInput').value;
        const engine = document.getElementById('searchEngine').value;
        let searchURL;
        
        switch(engine) {
            case 'bing':
                searchURL = `https://www.bing.com/search?q=${encodeURIComponent(query)}`;
                break;
            case 'duckduckgo':
                searchURL = `https://duckduckgo.com/?q=${encodeURIComponent(query)}`;
                break;
            default:
                searchURL = `https://www.google.com/search?q=${encodeURIComponent(query)}`;
        }
        
        window.open(searchURL, '_blank');
        document.getElementById('searchInput').value = '';
    }

    function toggleTheme() {
        document.body.classList.toggle('dark-mode');
        saveSettings();
    }

    function toggleSettings() {
        document.getElementById('settingsPanel').classList.toggle('active');
    }

    function updateTitle() {
        const newTitle = document.getElementById('titleInput').value;
        document.getElementById('mainTitle').textContent = newTitle;
        document.title = newTitle;
        saveSettings();
    }

    function toggleVisualizerWidget() {
        const toggle = document.getElementById('visualizerWidgetToggle');
        const widget = document.getElementById('visualizerWidget');
        toggle.classList.toggle('active');
        
        if (toggle.classList.contains('active')) {
            widget.style.display = 'block';
        } else {
            widget.style.display = 'none';
            if (visualizerActive) {
                toggleVisualizer();
            }
            if (micActive) {
                toggleMicrophone();
            }
        }
        saveSettings();
    }

    function toggleDevSection() {
        document.getElementById('devSection').classList.toggle('expanded');
    }

    function toggleExampleSection() {
        document.getElementById('exampleSection').classList.toggle('expanded');
    }

    function copyExampleCode() {
        const code = document.getElementById('exampleCode').textContent;
        navigator.clipboard.writeText(code).then(() => {
            LandrAPI.showNotification('Example code copied!', 'success');
        });
    }

    function uploadScript(file) {
        if (!file) return;
        
        const reader = new FileReader();
        reader.onload = function(e) {
            const scriptContent = e.target.result;
            const scriptObj = {
                name: file.name,
                content: scriptContent,
                id: Date.now()
            };
            
            customScripts.push(scriptObj);
            updateScriptList();
            saveSettings();
            LandrAPI.showNotification(`Script "${file.name}" uploaded!`, 'success');
        };
        reader.readAsText(file);
    }

    function updateScriptList() {
        const list = document.getElementById('scriptList');
        list.innerHTML = '';
        
        customScripts.forEach(script => {
            const li = document.createElement('li');
            li.className = 'script-item';
            const isActive = activeScripts.has(script.id);
            
            li.innerHTML = `
                <span class="script-item-name" title="${script.name}">${script.name}</span>
                <div class="script-actions">
                    <button class="script-btn ${isActive ? 'disable' : 'enable'}" 
                            onclick="toggleScript(${script.id})">
                        ${isActive ? 'Disable' : 'Enable'}
                    </button>
                    <button class="script-btn remove" onclick="removeScript(${script.id})">Remove</button>
                </div>
            `;
            
            list.appendChild(li);
        });
    }

    function toggleScript(id) {
        const script = customScripts.find(s => s.id === id);
        if (!script) return;
        
        if (activeScripts.has(id)) {
            activeScripts.delete(id);
            LandrAPI.showNotification(`Script "${script.name}" disabled`, 'info');
        } else {
            try {
                eval(script.content);
                activeScripts.add(id);
                LandrAPI.showNotification(`Script "${script.name}" enabled`, 'success');
            } catch (error) {
                LandrAPI.showNotification(`Error in script: ${error.message}`, 'error');
                console.error('Script error:', error);
            }
        }
        
        updateScriptList();
        saveSettings();
    }

    function removeScript(id) {
        customScripts = customScripts.filter(s => s.id !== id);
        activeScripts.delete(id);
        updateScriptList();
        saveSettings();
        LandrAPI.showNotification('Script removed', 'info');
    }

    function openLinkModal() {
        document.getElementById('linkModal').classList.add('active');
        document.getElementById('linkName').value = '';
        document.getElementById('linkUrl').value = '';
    }

    function closeLinkModal() {
        document.getElementById('linkModal').classList.remove('active');
    }

    function saveCustomLink() {
        const name = document.getElementById('linkName').value.trim();
        let url = document.getElementById('linkUrl').value.trim();
        
        if (name === '' || url === '') {
            alert('Please fill in both fields');
            return;
        }
        
        LandrAPI.addQuickLink(name, url);
        closeLinkModal();
    }

    function removeLink(event, button) {
        event.preventDefault();
        event.stopPropagation();
        button.parentElement.remove();
    }

    function addTodo() {
        const input = document.getElementById('todoInput');
        const text = input.value.trim();
        
        if (text === '') return;
        
        LandrAPI.addTodo(text);
        input.value = '';
    }

    function toggleComplete(btn) {
        btn.parentElement.classList.toggle('completed');
    }

    function deleteTodo(btn) {
        btn.parentElement.style.animation = 'slideIn 0.3s ease reverse';
        setTimeout(() => {
            btn.parentElement.remove();
        }, 300);
    }

    function toggleVisualizer() {
        const toggle = document.getElementById('visualizerToggle');
        toggle.classList.toggle('active');
        visualizerActive = toggle.classList.contains('active');
        
        if (!visualizerActive && animationId) {
            cancelAnimationFrame(animationId);
            const canvas = document.getElementById('visualizerCanvas');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        } else if (visualizerActive && (isPlaying || micActive)) {
            visualize();
        }
    }

    async function toggleMicrophone() {
        const micBtn = document.getElementById('micBtn');
        
        if (micActive) {
            if (micStream) {
                micStream.getTracks().forEach(track => track.stop());
                micStream = null;
            }
            micActive = false;
            micBtn.classList.remove('active');
            micBtn.textContent = 'üé§ Microphone';
            
            if (animationId) {
                cancelAnimationFrame(animationId);
                const canvas = document.getElementById('visualizerCanvas');
                const ctx = canvas.getContext('2d');
                ctx.clearRect(0, 0, canvas.width, canvas.height);
            }
        } else {
            try {
                if (isPlaying) {
                    audioElement.pause();
                    isPlaying = false;
                    document.getElementById('playPauseBtn').textContent = 'Play';
                }
                
                micStream = await navigator.mediaDevices.getUserMedia({ audio: true });
                
                if (!audioContext) {
                    audioContext = new (window.AudioContext || window.webkitAudioContext)();
                }
                
                const micSource = audioContext.createMediaStreamSource(micStream);
                analyser = audioContext.createAnalyser();
                micSource.connect(analyser);
                analyser.fftSize = 256;
                bufferLength = analyser.frequencyBinCount;
                dataArray = new Uint8Array(bufferLength);
                
                micActive = true;
                micBtn.classList.add('active');
                micBtn.textContent = '‚èπÔ∏è Stop';
                
                if (visualizerActive) {
                    visualize();
                }
            } catch (error) {
                alert('Could not access microphone. Please grant permission.');
                console.error('Microphone error:', error);
            }
        }
    }

    function loadAudio(file) {
        if (!file) return;
        
        if (micActive) {
            toggleMicrophone();
        }
        
        const url = URL.createObjectURL(file);
        audioElement.src = url;
        document.getElementById('playPauseBtn').style.display = 'block';
        
        if (!audioContext) {
            audioContext = new (window.AudioContext || window.webkitAudioContext)();
            analyser = audioContext.createAnalyser();
            const source = audioContext.createMediaElementSource(audioElement);
            source.connect(analyser);
            analyser.connect(audioContext.destination);
            analyser.fftSize = 256;
            bufferLength = analyser.frequencyBinCount;
            dataArray = new Uint8Array(bufferLength);
        }
    }

    function togglePlayPause() {
        if (isPlaying) {
            audioElement.pause();
            document.getElementById('playPauseBtn').textContent = 'Play';
        } else {
            audioElement.play();
            document.getElementById('playPauseBtn').textContent = 'Pause';
            if (visualizerActive) {
                visualize();
            }
        }
        isPlaying = !isPlaying;
    }

    function visualize() {
        const canvas = document.getElementById('visualizerCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = canvas.offsetWidth;
        canvas.height = canvas.offsetHeight;

        function draw() {
            if (!visualizerActive || (!isPlaying && !micActive)) return;
            
            animationId = requestAnimationFrame(draw);
            analyser.getByteFrequencyData(dataArray);

            ctx.fillStyle = 'rgba(0, 0, 0, 0.2)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            const barWidth = (canvas.width / bufferLength) * 2.5;
            let barHeight;
            let x = 0;

            for (let i = 0; i < bufferLength; i++) {
                barHeight = (dataArray[i] / 255) * canvas.height;

                const gradient = ctx.createLinearGradient(0, canvas.height - barHeight, 0, canvas.height);
                gradient.addColorStop(0, '#f093fb');
                gradient.addColorStop(0.5, '#667eea');
                gradient.addColorStop(1, '#764ba2');

                ctx.fillStyle = gradient;
                ctx.fillRect(x, canvas.height - barHeight, barWidth, barHeight);

                x += barWidth + 1;
            }
        }

        draw();
    }

    createParticles();
    setInterval(updateClock, 1000);
    updateClock();
    loadSettings();

    (function() {
      const STORAGE_KEY = 'landrAddonStoreEnabled';
      const INSTALLED_ADDONS_KEY = 'landrInstalledAddons';
      const GITHUB_API = 'https://api.github.com/repos/skyesonlyfans/landr/contents/scriptstore';
      const GITHUB_RAW = 'https://raw.githubusercontent.com/skyesonlyfans/landr/main/scriptstore/';
      
      let installedAddons = JSON.parse(localStorage.getItem(INSTALLED_ADDONS_KEY) || '[]');
      
      function createAddonStoreWidget() {
        const contentGrid = document.querySelector('.content-grid');
        if (!contentGrid || document.getElementById('addonStoreWidget')) return;
        
        const widget = document.createElement('div');
        widget.className = 'widget';
        widget.id = 'addonStoreWidget';
        widget.style.gridColumn = 'span 2';
        widget.innerHTML = `
          <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; flex-wrap: wrap; gap: 10px;">
            <h2 style="display: flex; align-items: center; gap: 10px; margin: 0;">
              <span style="font-size: 1.5rem;">üß©</span> Addon Store
            </h2>
            <button id="refreshAddons" style="padding: 8px 16px; border: none; border-radius: 10px; background: rgba(255, 255, 255, 0.1); color: white; cursor: pointer; font-weight: 600; transition: all 0.2s ease; font-family: 'Poppins', sans-serif; font-size: 0.9rem;">
              üîÑ Refresh
            </button>
          </div>
          <div style="margin-bottom: 20px;">
            <input type="text" id="addonSearch" placeholder="Search addons..." style="width: 100%; padding: 12px 18px; border: none; border-radius: 12px; background: rgba(255, 255, 255, 0.1); color: var(--text-color); outline: none; font-size: 1rem; font-family: 'Inter', sans-serif;">
          </div>
          <div id="addonStoreStatus" style="text-align: center; padding: 20px; opacity: 0.7;">
            Loading addons from GitHub...
          </div>
          <div id="addonsList" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 15px; max-height: 500px; overflow-y: auto;"></div>
        `;
        
        contentGrid.appendChild(widget);
        
        const addonsListEl = document.getElementById('addonsList');
        addonsListEl.style.cssText += `
          scrollbar-width: thin;
          scrollbar-color: rgba(255, 255, 255, 0.2) rgba(255, 255, 255, 0.05);
        `;
        addonsListEl.innerHTML = `<style>
          #addonsList::-webkit-scrollbar { width: 6px; }
          #addonsList::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.05); border-radius: 10px; }
          #addonsList::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2); border-radius: 10px; }
        </style>`;
        
        loadAddonsFromGitHub();
        
        document.getElementById('addonSearch').addEventListener('input', function(e) {
          filterAddons(e.target.value);
        });
        
        document.getElementById('refreshAddons').addEventListener('click', function() {
          this.disabled = true;
          this.textContent = 'üîÑ Refreshing...';
          refreshAddonStore();
          setTimeout(() => {
            this.disabled = false;
            this.textContent = 'üîÑ Refresh';
          }, 2000);
        });
      }
      
      async function loadAddonsFromGitHub() {
        const statusEl = document.getElementById('addonStoreStatus');
        const listEl = document.getElementById('addonsList');
        
        try {
          const response = await fetch(GITHUB_API);
          
          if (!response.ok) {
            throw new Error('Failed to fetch addons');
          }
          
          const files = await response.json();
          const jsFiles = files.filter(file => file.name.endsWith('.js') && file.type === 'file');
          
          if (jsFiles.length === 0) {
            statusEl.textContent = 'No addons available yet.';
            return;
          }
          
          statusEl.style.display = 'none';
          
          for (const file of jsFiles) {
            const addonCard = createAddonCard(file);
            listEl.appendChild(addonCard);
          }
          
        } catch (error) {
          console.error('Error loading addons:', error);
          statusEl.textContent = '‚ö†Ô∏è Could not load addons from GitHub. Check console for details.';
          statusEl.style.color = '#ff6b6b';
        }
      }
      
      function createAddonCard(file) {
        const addonName = file.name.replace('.js', '');
        const isInstalled = installedAddons.some(addon => addon.name === file.name);
        
        const card = document.createElement('div');
        card.className = 'addon-card';
        card.dataset.name = addonName.toLowerCase();
        card.style.cssText = `
          background: rgba(255, 255, 255, 0.08);
          border-radius: 15px;
          padding: 20px;
          transition: all 0.3s ease;
          border: 1px solid rgba(255, 255, 255, 0.1);
          display: flex;
          flex-direction: column;
          gap: 12px;
        `;
        
        card.innerHTML = `
          <div style="display: flex; align-items: start; justify-content: space-between; flex-wrap: wrap; gap: 8px;">
            <h3 style="font-family: 'Poppins', sans-serif; font-size: 1.2rem; font-weight: 600; margin: 0; flex: 1; min-width: 150px;">${addonName}</h3>
            ${isInstalled ? '<span style="background: #10b981; padding: 4px 10px; border-radius: 8px; font-size: 0.75rem; font-weight: 600; white-space: nowrap;">Installed</span>' : ''}
          </div>
          <p style="opacity: 0.7; font-size: 0.9rem; margin: 0; flex: 1;">
            ${getAddonDescription(addonName)}
          </p>
          <div style="display: flex; gap: 8px; flex-wrap: wrap;">
            <button class="addon-btn install-btn" data-file="${file.name}" data-download-url="${file.download_url}" style="flex: 1; min-width: 100px; padding: 10px; border: none; border-radius: 10px; background: ${isInstalled ? '#6b7280' : 'var(--accent-color)'}; color: white; cursor: pointer; font-weight: 600; transition: all 0.2s ease; font-family: 'Poppins', sans-serif; font-size: 0.9rem;">
              ${isInstalled ? 'Reinstall' : 'Install'}
            </button>
            ${isInstalled ? `
              <button class="addon-btn uninstall-btn" data-file="${file.name}" style="padding: 10px 15px; border: none; border-radius: 10px; background: #ef4444; color: white; cursor: pointer; font-weight: 600; transition: all 0.2s ease; font-family: 'Poppins', sans-serif; font-size: 0.9rem;">
                üóëÔ∏è
              </button>
            ` : ''}
            <button class="addon-btn preview-btn" data-download-url="${file.download_url}" style="padding: 10px 15px; border: none; border-radius: 10px; background: rgba(255, 255, 255, 0.1); color: white; cursor: pointer; font-weight: 600; transition: all 0.2s ease; font-family: 'Poppins', sans-serif; font-size: 0.9rem;">
              üëÅÔ∏è
            </button>
          </div>
        `;
        
        card.querySelector('.install-btn').addEventListener('click', function() {
          installAddon(file.name, file.download_url, this);
        });
        
        if (isInstalled) {
          card.querySelector('.uninstall-btn').addEventListener('click', function() {
            uninstallAddon(file.name);
          });
        }
        
        card.querySelector('.preview-btn').addEventListener('click', function() {
          previewAddon(file.download_url);
        });
        
        card.addEventListener('mouseenter', function() {
          this.style.background = 'rgba(255, 255, 255, 0.12)';
          this.style.transform = 'translateY(-3px)';
        });
        
        card.addEventListener('mouseleave', function() {
          this.style.background = 'rgba(255, 255, 255, 0.08)';
          this.style.transform = 'translateY(0)';
        });
        
        return card;
      }
      
      function getAddonDescription(name) {
        const descriptions = {
          'background-upload': 'Upload custom background images for your homepage',
          'persistent-quicklinks': 'Make quick links persist across page refreshes',
          'flappy-bird': 'Play Flappy Bird directly on your homepage',
          'weather-widget': 'Display current weather for your location',
          'quote-of-the-day': 'Get inspired with daily motivational quotes',
          'pomodoro-timer': 'Stay focused with a Pomodoro productivity timer',
          'note-taking': 'Quick notes widget with markdown support',
          'crypto-tracker': 'Track cryptocurrency prices in real-time',
          'spotify-widget': 'Display your currently playing Spotify track',
          'github-stats': 'Show your GitHub contribution statistics',
          'smb': 'Play Super Mario Bros with a full NES emulator',
          'mario-kart-64': 'Race in Mario Kart 64 with N64 emulation'
        };
        
        return descriptions[name.toLowerCase()] || 'Enhance your Landr homepage with this addon';
      }
      
      async function installAddon(fileName, downloadUrl, buttonEl) {
        buttonEl.disabled = true;
        buttonEl.textContent = 'Installing...';
        
        try {
          const response = await fetch(downloadUrl);
          
          if (!response.ok) {
            throw new Error('Failed to download addon');
          }
          
          const scriptContent = await response.text();
          
          const existingIndex = installedAddons.findIndex(addon => addon.name === fileName);
          if (existingIndex !== -1) {
            installedAddons[existingIndex] = { name: fileName, content: scriptContent };
          } else {
            installedAddons.push({ name: fileName, content: scriptContent });
          }
          
          localStorage.setItem(INSTALLED_ADDONS_KEY, JSON.stringify(installedAddons));
          
          try {
            eval(scriptContent);
            refreshAddonStore();
          } catch (error) {
            console.error('Error executing addon:', error);
          }
          
        } catch (error) {
          console.error('Error installing addon:', error);
          buttonEl.textContent = 'Install';
          buttonEl.disabled = false;
        }
      }
      
      function uninstallAddon(fileName) {
        installedAddons = installedAddons.filter(addon => addon.name !== fileName);
        localStorage.setItem(INSTALLED_ADDONS_KEY, JSON.stringify(installedAddons));
        refreshAddonStore();
      }
      
      function refreshAddonStore() {
        const listEl = document.getElementById('addonsList');
        const statusEl = document.getElementById('addonStoreStatus');
        
        if (!listEl || !statusEl) return;
        
        listEl.innerHTML = '';
        statusEl.style.display = 'block';
        statusEl.textContent = 'Refreshing addons...';
        
        loadAddonsFromGitHub();
      }
      
      async function previewAddon(downloadUrl) {
        try {
          const response = await fetch(downloadUrl);
          const scriptContent = await response.text();
          
          const modal = document.createElement('div');
          modal.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
            padding: 20px;
          `;
          
          modal.innerHTML = `
            <div style="background: var(--card-bg); backdrop-filter: blur(20px); border-radius: 25px; padding: 30px; max-width: 800px; width: 100%; max-height: 80vh; overflow: hidden; display: flex; flex-direction: column; border: 1px solid rgba(255, 255, 255, 0.1);">
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3 style="font-family: 'Poppins', sans-serif; font-size: 1.5rem; margin: 0;">Code Preview</h3>
                <button id="closePreview" style="background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; padding: 5px;">‚úï</button>
              </div>
              <pre style="background: rgba(0, 0, 0, 0.4); padding: 20px; border-radius: 12px; overflow: auto; flex: 1; font-family: 'Courier New', monospace; font-size: 0.85rem; color: #a8dadc; line-height: 1.5;">${escapeHtml(scriptContent)}</pre>
            </div>
          `;
          
          document.body.appendChild(modal);
          
          modal.addEventListener('click', function(e) {
            if (e.target === modal || e.target.id === 'closePreview') {
              modal.remove();
            }
          });
          
        } catch (error) {
          console.error('Error previewing addon:', error);
        }
      }
      
      function escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
      }
      
      function filterAddons(searchTerm) {
        const cards = document.querySelectorAll('.addon-card');
        const term = searchTerm.toLowerCase();
        
        cards.forEach(card => {
          const name = card.dataset.name;
          const description = card.querySelector('p').textContent.toLowerCase();
          
          if (name.includes(term) || description.includes(term)) {
            card.style.display = 'flex';
          } else {
            card.style.display = 'none';
          }
        });
      }
      
      function removeAddonStoreWidget() {
        const widget = document.getElementById('addonStoreWidget');
        if (widget) {
          widget.remove();
        }
      }
      
      function loadInstalledAddons() {
        installedAddons.forEach(addon => {
          try {
            eval(addon.content);
            console.log(`Loaded installed addon: ${addon.name}`);
          } catch (error) {
            console.error(`Error loading installed addon ${addon.name}:`, error);
          }
        });
      }
      
      function addSettingsToggle() {
        const settingsPanel = document.getElementById('settingsPanel');
        if (!settingsPanel) return;
        
        const visualizerSetting = settingsPanel.querySelector('.setting-item:has(#visualizerWidgetToggle)');
        if (!visualizerSetting) return;
        
        const addonStoreSetting = document.createElement('div');
        addonStoreSetting.className = 'setting-item';
        addonStoreSetting.innerHTML = `
          <label class="setting-label">Addon Store</label>
          <div class="setting-toggle">
            <span>Enable Addon Store Widget</span>
            <div class="toggle-switch" id="addonStoreToggle">
              <div class="toggle-slider"></div>
            </div>
          </div>
        `;
        
        visualizerSetting.parentNode.insertBefore(addonStoreSetting, visualizerSetting.nextSibling);
        
        const toggle = document.getElementById('addonStoreToggle');
        
        const savedState = localStorage.getItem(STORAGE_KEY);
        if (savedState === 'true') {
          toggle.classList.add('active');
          setTimeout(() => createAddonStoreWidget(), 100);
        }
        
        toggle.addEventListener('click', function() {
          this.classList.toggle('active');
          const isEnabled = this.classList.contains('active');
          
          localStorage.setItem(STORAGE_KEY, isEnabled);
          
          if (isEnabled) {
            createAddonStoreWidget();
          } else {
            removeAddonStoreWidget();
          }
        });
      }
      
      loadInstalledAddons();
      addSettingsToggle();
      
      console.log('Addon Store system loaded!');
    })();
</script>
```

</body>
</html>